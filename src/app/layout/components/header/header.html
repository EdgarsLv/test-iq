<div class="layout-topbar">
  <div class="layout-topbar-logo-container">
    <a class="layout-topbar-logo" routerLink="/">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        viewBox="0 0 24 24"
      >
        <g
          fill="none"
          stroke="var(--primary-color)"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
        >
          <path
            d="M12 18V5m3 8a4.17 4.17 0 0 1-3-4a4.17 4.17 0 0 1-3 4m8.598-6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5"
          />
          <path d="M17.997 5.125a4 4 0 0 1 2.526 5.77" />
          <path d="M18 18a4 4 0 0 0 2-7.464" />
          <path d="M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517" />
          <path d="M6 18a4 4 0 0 1-2-7.464" />
          <path d="M6.003 5.125a4 4 0 0 0-2.526 5.77" />
        </g>
      </svg>

      <span class="font-semibold">IQ TEST</span>
    </a>
  </div>

  <div class="flex items-center ml-auto gap-x-2">
    <div class="flex font-semibold items-center">
      @if (!authService.authUser()) {
      <a
        pButton
        size="small"
        severity="success"
        [outlined]="true"
        icon="pi pi-sign-in"
        routerLink="login"
        >Sign In</a
      >
      }
    </div>

    <p-button
      (click)="toggleDarkMode()"
      [outlined]="true"
      severity="secondary"
      size="small"
      icon="pi pi-moon"
    />

    <p-menu #menu [model]="items" [popup]="true">
      <ng-template #start>
        <a
          pRipple
          routerLink="/"
          class="flex items-center p-menu-item-link mt-1 ml-1"
          (click)="menu.toggle($event)"
        >
          <span class="pi pi-home"></span>
          <span class="ml-2">Home</span>
        </a>
      </ng-template>

      <ng-template #item let-item>
        <a pRipple class="flex items-center p-menu-item-link">
          <span [class]="item.icon"></span>
          <span class="ml-2">{{ item.label }}</span>
          @if (!authService.authUser()) {
          <span class="ml-auto text-muted-color">
            <i class="pi pi-lock"></i>
          </span>
          }
        </a>
      </ng-template>

      <ng-template #end>
        @if (authService.authUser()) {
        <a
          pRipple
          class="flex items-center p-menu-item-link mb-1 ml-1 text-red-400"
          (click)="signOut()"
          (click)="menu.toggle($event)"
        >
          <span class="pi pi-sign-out"></span>
          <span class="ml-2">Sign Out</span>
        </a>
        }@else {
        <a
          pRipple
          routerLink="login"
          class="flex items-center p-menu-item-link mb-1 ml-1 text-green-400"
          (click)="menu.toggle($event)"
        >
          <span class="pi pi-sign-in"></span>
          <span class="ml-2">Sign In</span>
        </a>
        }
      </ng-template>
    </p-menu>
    <p-button
      (click)="menu.toggle($event)"
      [outlined]="true"
      severity="contrast"
      icon="pi pi-bars"
    />
  </div>
</div>
